@import "mixins";
@import "colors";
@import "common";
@import "color-ramp";


.textarea {
    @extend .text;
}

.checkbox {

    width:40px;
    height:24px;
    background:$widget-text-background;

    @extend .widget-common;
    @extend .text-content;
    @extend .inset-box;
    @include borderradius(5px);
    @include transition("background 0.3s ease-out");

    &.focus {
        &:before {
            @extend .outset-box.light;
        }
    }
    &:hover:before{
        @extend .outset-box.light;
    }

    &:before{
        content:"";
        width:16px;
        height:16px;
        position:absolute;
        z-index:1;
        left:1px;
        top:2px;

        @extend .outset-box;
        @include borderradius(4px);
        @include transition("left 0.4s ease-out");
    }
    &:after {
        content:"off";
        position:absolute;
        font-size:.9em;
        width:20px;
        display:block;
        text-align:center;
        right:1px;
        top:1px;
        font-size:14px;
        line-height:22px;
    }

    &.checked {
        color:$base02;
        @extend .inset-box.blue;

        &:before {
            left:20px;
        }
        &:after{
            content:"on";
            right:20px;
        }
        &.disabled {
            @extend .disabled-text-content;
            @extend .inset-box.white;
            &:after {
                color:$base0;
            }
        }
    }
    &.disabled, &.readonly {
        &:hover:before{
            @extend .outset-box;
        }
    }
    &.disabled {
        @extend .disabled-text-content;
    }
}

.radio {

    width:20px;
    height:20px;

    @extend .widget-common;
    @extend .inset-box;
    @include borderradius(20px);

    &:after {
        content:"";
    }

    &.checked {
        &:after {
            width:14px;
            height:12px;
            position:absolute;
            display:block;
            left:2px;
            top:2px;

            @extend .outset-box.blue;
            @include borderradius(20px);
        }
        &.disabled {
            &:after {
                @extend .outset-box;

                width:14px;
                height:12px;
                position:absolute;
                display:block;

                @include borderradius(20px);
            }
        }
    }
}

.slider {
    @extend .widget-common;

    &:hover {
        .knob {
            @extend .outset-box.light;
        }
    }
    &.focus {
        .knob {
            @extend .outset-box.light;
        }
        .track {
            background-color:$widget-text-focus-background;
        }
        .value {
            color:$widget-text-focus-color;
        }
    }
    &.disabled, &.readonly {
        &:hover {
            .knob {
                @extend .outset-box;
            }
        }
    }
    &.disabled {
        .value {
            @extend .disabled-text-content;
        }
    }
    .track {
        position:absolute;
        z-index:0;
        height:20px;
        display:block;
        width:100%;

        @extend .inset-box;
        @include borderradius(9px);
    }
    .knob {
        position:relative;
        z-index:1;
        width:40px;
        height:10px;
        display:block;
        margin-left:3px;
        margin-top:3px;
        margin-right:5px;

        @extend .outset-box;
        @include borderradius(6px);
    }
    .value {
        display:inline-block;
        position:relative;
        color:$widget-text-color;
        padding:2px;
        background:$widget-text-background;
        width:26px;

        text-align:center;

        @include borderradius(3px);
        margin-top:10px;

        &:before {
            content:"";
            position:absolute;
            display:block;
            width:0px;
            height:1px;
            border:1px solid $widget-text-background;
            border-color:transparent transparent $widget-text-background transparent;
            border-width:4px;
            margin-left:-4px;
            left:50%;
            top:-9px;
        }
    }
}

.stepper {

    height:26px;

    @extend .text;
    @include borderradius(6px);

    input {
        margin-top:3px;
    }
    &.disabled, &.readonly {
        .up, .down  {
            &:hover {
                @extend .outset-box;
            }
        }
        &:hover {
            &:before, &:after {
                display:none;
            }
        }
    }
    &:hover {
        &:before, &:after {
            @extend .arrow;
            border-width:4px;
            right:38px;
            top:50%;
        }
        &:before {
            border-color:$base01 transparent transparent transparent;
            margin-top:2px;
        }
        &:after {
            border-color:transparent transparent $base01 transparent;
            margin-top:-10px;
        }
    }

    &.disabled {
        .value {
            @extend .disabled-text-content;
        }

    }
    .value {
        @extend .text-content;
        width:100%;
        height:100%;
        margin-top:0px;
        margin-left:2px;
    }
    .up, .down  {
        margin:0;
        position:absolute;
        width:14px;
        height:14px;
        top:4px;
        cursor:pointer;
        line-height: 18px;

        @extend .outset-box;

        &:hover {
            @extend .outset-box.light;
        }

        &:after {
            border-width:4px;

            margin-top:-4px;
            margin-left:-2px;
            left:50%;
            top:50%;
        }
    }

    .up {
        right:3px;
        @include borderradius(0 4px 4px 0);
        &:after {
            @extend .arrow;
            @extend .arrow.right;
        }
    }
    .down {
        right:19px;
        border-right:none !important;

        @include borderradius(4px 0 0 4px);

        &:after {
            @extend .arrow;
            @extend .arrow.left;
            margin-left:-6px;
        }
    }
}
.filepicker {

    height:24px;
    overflow:hidden;

    @extend .text;

    &.disabled {
        .value {
            @extend .disabled-text-content;
        }
    }
    input {
        opacity:0;
        cursor:pointer;
        position:absolute;
        right:0;
        top:0;
        width:auto !important;
    }
    .value {
        @extend .text-content;
        margin-left:2px;
        top:3px;
        margin-right:18px;
        overflow:hidden;
        white-space:nowrap;
        text-overflow:ellipsis;
        position:relative;

    }
    .icon {
        top:-1px;
        right:-1px;
        width:14px;
        height: 14px;
        position: absolute;

        @extend .button;

        &:before {
            @extend .arrow;
            @extend .arrow.right;

            margin-top:-5px;
            margin-left:-2px;
            left:50%;
            top:50%;
        }
    }
}
.dateinput {
    @extend .widget-common;

    &.time {
        @extend .stepper;
    }
    &.date, &.month, &.week {
        @extend .single-select;

    }
}

.colorinput {
    @extend .button;

    .color {
        display:block;
        margin:2px;
        height:100%;
        font-size:14px;
        text-indent:3px;
        line-height:20px;
        border:1px solid $widget-button-border;
        @include borderradius(2px);
    }
}
.gridpicker {
    @extend .widget-common;

    background:$widget-button-background;
    border:1px solid $widget-button-border;

    width:100px;
    height:100px;
    overflow:hidden;

    .cursor {
        position:absolute;
        display:block;
        border:1px solid #000;
        width:12px;
        height:12px;
        margin-left:-1px;
        margin-top:-1px;

        @include borderradius(8px);

        &:before {
            content:"";
            position:absolute;
            display:block;
            border:1px solid #fff;
            width:10px;
            height:10px;
            left:50%;
            top:50%;
            margin-left:-6px;
            margin-top:-6px;

            @include borderradius(6px);
        }
    }
    &.horizontal {
        height:12px;

        .cursor {
            margin-top:4px;
            height:14px;
            width:1px;
            background:white;
            &:before, &:after {
                display:none;
            }
        }
    }
    &.vertical {
        width:12px;

        .cursor {
            margin-left:4px;
            width:14px;
            height:1px;
            background:white;
            @include borderradius(0px);
            &:before, &:after {
                display:none;
            }
        }
    }
}

.layer {

    display:block;
    position:absolute;
    width:100%;
    height:100%;
    left:0;
    top:0;

}
.colorpicker {

    line-height:14px;
    @extend .widget-common;
    @extend .popup;

    margin-top:4px;

    padding:0 0 3px 22px;

    &.disabled {
        .radio.checked {
            &:after {
                @extend .outset-box.light;
            }
        }
    }

    .gridpicker {
        width:160px;
        height:160px;
        margin:0;
        margin-right:4px;
        margin-top:4px;
        &.vertical {
            width:12px;
        }
    }

    .oldColor, .newColor {
        background:$widget-text-background;
        display:block;
        position:absolute;
        width:12px;
        height:81px;
        left:4px;
        border:1px solid $widget-button-border;
    }
    .oldColor {
        border-top:none;
        top:84px;
    }
    .newColor {
        border-bottom:none;
        top:4px;
    }

    .radio {
        float:right;
        width:12px;
        height:20px;
        margin-top:3px;
        margin-right:-1px;
        background-color:$widget-text-background;

        @include borderradius(4px 0 0 4px);

        &.focus{
            background-color:$widget-text-focus-background;
        }
        &.checked {
            &:after {
                @include borderradius(3px 0 0 3px);
                width:8px;
                height:13px;
                left:1px;
                top:1px;
            }
        }
        &.red {
            margin-top:5px;
        }
    }

    .text{
        float:right;
        clear:right;

        height:20px;
        margin-top:3px;

        @include borderradius( 4px );

        &.red {
            margin-top:5px;
        }
        &.red, &.green, &.blue, &.hue, &.saturation, &.value {
            @include borderradius( 0 4px 4px 0 );
            background-color:$widget-text-background;

            &.focus{
                background-color:$widget-text-focus-background;
            }
        }
        &.red, &.green, &.blue, &.hue, &.saturation, &.value, &.hex {
            width:40px;
            padding-left:15px;
            line-height:14px;
            input {
                font-size:13px;
                line-height:14px;
            }
            &:before {
                content:"R:";
                color:#898989;
                display:inline;
                position:absolute;
                left:2px;
                font-size:13px;
                line-height:18px;
            }
        }
        &.green:before {
            content:"G:";
        }
        &.blue:before {
            content:"B:";
        }

        &.hue, &.saturation, &.value {
            &:after {
                content:"";
                color:#ccc;
                display:inline;
                position:absolute;
                right:2px;
                font-size:13px;
                line-height:18px;
            }
        }

        &.hue {
            &:before {
                content:"H:";
            }
            &:after {
                content:"°";
            }
        }
        &.saturation, &.value {
            &:after {
                content:"%";
            }
        }
        &.saturation {
            &:before {
                content:"S:";
            }
        }
        &.value {
            &:before {
                content:"V:";
            }
        }

        &.hex {
            padding-left:13px;
            width:53px;
            input {
                font-size:14px;
                line-height:16px;
            }
            &:before {
                content:"#";
                text-indent:2px;
                top:2px;
            }
        }
    }
}

.single-select {
    @extend .button;

    .value {
        display:block;
        padding:2px 20px 2px 4px;
        white-space:nowrap;
        overflow:hidden;
        @include overflow(ellipsis);
    }
    &:before {
        @extend .arrow;
        @extend .arrow.down;

        margin-top:-2px;
        right:6px;
        top:50%;
    }
}
.menulist {
    @extend .widget-common;
    @extend .popup;

    z-index:2;
    padding:0;

    .menuitem, .menu {
        position:relative;
        list-style:none;
        padding:2px 4px;

        @extend .button-text-content;
        @extend .inset-text;

        &.selected {
            background:$widget-button-focus-background2;
        }
    }
    .menu {
        padding-right:20px;

        &:before {
            @extend .arrow;
            @extend .arrow.right;

            margin-top:-4px;
            right:2px;
            top:50%;
        }
    }
    &.cropped {
        overflow-x:hidden;
        overflow-y:auto;
    }

    &.disabled {
        .menuitem, .menu {
            @extend .button-disabled-text-content;
        }
    }
}
.calendar {
    overflow:hidden;

    @extend .widget-common;
    @extend .popup;


    h3 {
        margin:3px;
        margin-bottom:0px;
        text-align:center;
        background:$base01;
        @include borderradius(3px);
    }
    a {
        &.prev-month, &.next-month, &.next-year, &.prev-year {
            display:block;
            position:absolute;
            width:16px;
            height:16px;
            color:$base1;
            top:5px;

            @extend .no-text;
            &:before {
                top:4px;
                content:"";
                @extend .chevron;
            }
        }
        &.prev-year {
            left:4px;

            &:before {
                left:4px;
                @extend .chevron.left;
            }
            &:after {
                left:9px;
                top:4px;
                content:"";
                @extend .chevron;
                @extend .chevron.left;
            }

        }
        &.prev-month {
            left:22px;
            &:before {
                left:6px;
                @extend .chevron.left;
            }
        }
        &.next-year {
            right:4px;
            &:before {
                right:4px;
                @extend .chevron.right;
            }
            &:after {
                right:9px;
                top:4px;
                content:"";
                @extend .chevron;
                @extend .chevron.right;
            }
        }
        &.next-month {
            right:22px;
            &:before {
                right:6px;
                @extend .chevron.right;
            }
        }
        &.today {
            width:50px;
            display:block;
            margin:0px 4px 6px 24px;
            text-align:center;
            font-size:14px;

            @extend .outset-box.blue;
            @extend .button-text-content;
            @include borderradius(2px);

            &:hover {
                @extend .outset-box.blue.light;
            }
        }
    }

    table {
        padding:3px;
        border-spacing:0px;

        tr:nth-child(2) {
            td {
                border-top:1px solid $base01;
            }
        }

        th {
            text-align:center !important;

            @extend .button-text-content;
            @extend .inset-text;

            &.week {
                font-size:12px;
                font-weight:normal;
                padding:3px 6px;
                border-right:1px solid $base01;
            }
        }
        td {
            font-size:14px;
            text-align:center;
            padding:3px 0px;
            width:24px;
            height:24px;

            @extend .button-text-content;
            @extend .inset-text;
            @include borderbox;

            &:hover {
                background:$widget-button-focus-background;
                color:$widget-button-color !important;
            }

            &.selected {
                background:$widget-button-focus-background;
                &.today {
                    background:$blue2;
                }
            }
            &.blurred {
                @extend .button-disabled-text-content;
            }
            &.today {
                background:transparentize($blue1, 0.5);
            }
        }
    }
    &.readonly {
        a.today {
            &:hover{
                @extend .outset-box.blue;
            }
        }
    }
    &.disabled, &.readonly {

        table {
            td {
                &:hover {
                    background:none;
                }
                &.blurred:hover {
                    @extend .button-disabled-text-content;
                }
                &.selected{
                    background:$widget-button-focus-background;
                }
            }
        }
    }
    &.disabled {
        a.today {
            @extend .disabled-text-content;
            @extend .outset-box.light;

            &:hover{
                @extend .outset-box.light;
            }
        }
        table {
            td {
                @extend .button-disabled-text-content;
                &:hover{
                    @extend .button-disabled-text-content;
                }
            }
        }
    }
}
