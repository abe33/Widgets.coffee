<!DOCTYPE html>  <html> <head>   <title>mixins.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="Cakefile.html">                 Cakefile.coffee               </a>                                           <a class="source" href="Nemfile.html">                 Nemfile.coffee               </a>                                           <a class="source" href="builder.html">                 builder.coffee               </a>                                           <a class="source" href="button.html">                 button.coffee               </a>                                           <a class="source" href="calendar.html">                 calendar.coffee               </a>                                           <a class="source" href="checkbox.html">                 checkbox.coffee               </a>                                           <a class="source" href="colorpicker.html">                 colorpicker.coffee               </a>                                           <a class="source" href="container.html">                 container.coffee               </a>                                           <a class="source" href="dates.html">                 dates.coffee               </a>                                           <a class="source" href="filepicker.html">                 filepicker.coffee               </a>                                           <a class="source" href="jquery.html">                 jquery.coffee               </a>                                           <a class="source" href="keys.html">                 keys.coffee               </a>                                           <a class="source" href="menus.html">                 menus.coffee               </a>                                           <a class="source" href="mixins.html">                 mixins.coffee               </a>                                           <a class="source" href="module.html">                 module.coffee               </a>                                           <a class="source" href="nem.html">                 nem.coffee               </a>                                           <a class="source" href="numeric-widget.html">                 numeric-widget.coffee               </a>                                           <a class="source" href="radio.html">                 radio.coffee               </a>                                           <a class="source" href="radiogroup.html">                 radiogroup.coffee               </a>                                           <a class="source" href="selects.html">                 selects.coffee               </a>                                           <a class="source" href="signals.html">                 signals.coffee               </a>                                           <a class="source" href="slider.html">                 slider.coffee               </a>                                           <a class="source" href="std.html">                 std.coffee               </a>                                           <a class="source" href="stepper.html">                 stepper.coffee               </a>                                           <a class="source" href="textarea.html">                 textarea.coffee               </a>                                           <a class="source" href="textinput.html">                 textinput.coffee               </a>                                           <a class="source" href="widgets.html">                 widgets.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               mixins.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p><link rel='stylesheet' href='../css/styles.css' media='screen'>
<link rel='stylesheet' href='../css/widgets.css' media='screen'></p>

<script type='text/javascript' src='../depends/jquery-1.6.1.min.js'></script>

<script type='text/javascript' src='../depends/jquery.mousewheel.js'></script>

<script type='text/javascript' src='../lib/widgets.js'></script>

<script type='text/javascript' src='../lib/builder.js'></script>

<p>The <code>mixins.coffe</code> file contains the set of mixins that are used
by widgets.</p>

<p>The file contains the following definitions:</p>

<ul>
<li><a href="DropDownPopup">DropDownPopup</a></li>
<li><a href="HasChildren">HasChildren</a></li>
<li><a href="HasFocusProvidedByChild">HasFocusProvidedByChild</a></li>
<li><a href="HasMenuModel">HasMenuModel</a></li>
<li><a href="HasMultiSelection">HasMultiSelection</a></li>
<li><a href="HasOptions">HasOptions</a></li>
<li><a href="HasPopupMenuList">HasPopupMenuList</a></li>
<li><a href="HasSingleSelection">HasSingleSelection</a></li>
<li><a href="HasValueInRange">HasValueInRange</a></li>
<li><a href="Spinner">Spinner</a></li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p><a name ="HasValueInRange"></a></p>

<h1>HasValueInRange</h1>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>HasValueInRange provides a coherent behavior accross the widgets
which value can be constrained in a range through the <code>min</code>,
<code>max</code> and <code>step</code> attributes of their respective targets.</p>

<p>The <code>HasValueInRange</code> mixin doesn't provides any setters for the
<code>min</code>, <code>max</code> and <code>step</code> properties. The class that receive the
mixin should define them to ensure bounds validity and value
collision.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nb">HasValueInRange</span> <span class="o">=</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>The constructor hook initialize the shared properties and
creates the keyboard bindings for trigger increment and
decrement intervals.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">constructorHook</span><span class="o">:</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>The <code>min</code> property represent the lower bound of the value's range.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="py">@min</span> <span class="o">=</span> <span class="kc">null</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>The <code>max</code> property represent the upper bound of the value's range.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="py">@max</span> <span class="o">=</span> <span class="kc">null</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>The <code>step</code> property represent the gap between legible values.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="py">@step</span> <span class="o">=</span> <span class="kc">null</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <h3>Keyboard Controls</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>Use the <code>Up</code> or <code>Left</code> arrows on the keyboard to increment
the value by the amount of the <code>step</code> property.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="py">@registerKeyDownCommand</span> <span class="nx">keystroke</span><span class="p">(</span><span class="nx">keys</span><span class="p">.</span><span class="nx">up</span><span class="p">),</span> <span class="py">@startIncrement</span>
    <span class="py">@registerKeyUpCommand</span>   <span class="nx">keystroke</span><span class="p">(</span><span class="nx">keys</span><span class="p">.</span><span class="nx">up</span><span class="p">),</span> <span class="py">@endIncrement</span>

    <span class="py">@registerKeyDownCommand</span> <span class="nx">keystroke</span><span class="p">(</span><span class="nx">keys</span><span class="p">.</span><span class="nx">right</span><span class="p">),</span> <span class="py">@startIncrement</span>
    <span class="py">@registerKeyUpCommand</span>   <span class="nx">keystroke</span><span class="p">(</span><span class="nx">keys</span><span class="p">.</span><span class="nx">right</span><span class="p">),</span> <span class="py">@endIncrement</span></pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>Use the <code>Down</code> or <code>Right</code> arrows on the keyboard to decrement
the value by the amount of the <code>step</code> property.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="py">@registerKeyDownCommand</span> <span class="nx">keystroke</span><span class="p">(</span><span class="nx">keys</span><span class="p">.</span><span class="nx">down</span><span class="p">),</span> <span class="py">@startDecrement</span>
    <span class="py">@registerKeyUpCommand</span>   <span class="nx">keystroke</span><span class="p">(</span><span class="nx">keys</span><span class="p">.</span><span class="nx">down</span><span class="p">),</span> <span class="py">@endDecrement</span>

    <span class="py">@registerKeyDownCommand</span> <span class="nx">keystroke</span><span class="p">(</span><span class="nx">keys</span><span class="p">.</span><span class="nx">left</span><span class="p">),</span> <span class="py">@startDecrement</span>
    <span class="py">@registerKeyUpCommand</span>   <span class="nx">keystroke</span><span class="p">(</span><span class="nx">keys</span><span class="p">.</span><span class="nx">left</span><span class="p">),</span> <span class="py">@endDecrement</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>Ensure that the passed-in <code>value</code> match all the constraints
defined on the target of the current widget.</p>

<p>The returned value should be safely affected to the <code>value</code>
property.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">fitToRange</span><span class="o">:</span> <span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">min</span><span class="p">,</span> <span class="nx">max</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="k">if</span> <span class="nx">min</span><span class="o">?</span> <span class="o">and</span> <span class="nx">value</span> <span class="o">&lt;</span> <span class="nx">min</span> <span class="k">then</span> <span class="nv">value </span><span class="o">=</span> <span class="nx">min</span>
    <span class="k">else</span> <span class="k">if</span> <span class="nx">max</span><span class="o">?</span> <span class="o">and</span> <span class="nx">value</span> <span class="o">&gt;</span> <span class="nx">max</span> <span class="k">then</span> <span class="nv">value </span><span class="o">=</span> <span class="nx">max</span>

    <span class="py">@snapToStep</span> <span class="nx">value</span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>Override this method to implement the concrete snapping.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">snapToStep</span><span class="o">:</span> <span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nx">value</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <h3>Intervals Management</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>Stores the interval id. When not running, <code>intervalId</code>
is always <code>-1</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">intervalId</span><span class="o">:</span> <span class="o">-</span><span class="mi">1</span></pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>Increment the value of the amount of the <code>step</code> property.
Override the method in the class that receive the mixin.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">increment</span><span class="o">:</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>Decrement the value of the amount of the <code>step</code> property.
Override the method in the class that receive the mixin.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">decrement</span><span class="o">:</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>Initiate the increment interval if interaction are allowed
on the widget.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">startIncrement</span><span class="o">:</span> <span class="o">-&gt;</span>
    <span class="k">unless</span> <span class="py">@cantInteract</span><span class="p">()</span>
      <span class="k">if</span> <span class="py">@intervalId</span> <span class="o">is</span> <span class="o">-</span><span class="mi">1</span> <span class="k">then</span> <span class="py">@intervalId</span> <span class="o">=</span> <span class="nv">setInterval </span><span class="o">=&gt;</span>
        <span class="py">@increment</span><span class="p">()</span>
      <span class="p">,</span> <span class="mi">50</span></pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <p><code>startIncrement</code> returns <code>false</code> to prevent default behavior
when used as an event callback.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="kc">false</span></pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <p>Initiate the decrement interval if interaction are allowed
on the widget.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">startDecrement</span><span class="o">:</span> <span class="o">-&gt;</span>
    <span class="k">unless</span> <span class="py">@cantInteract</span><span class="p">()</span>
      <span class="k">if</span> <span class="py">@intervalId</span> <span class="o">is</span> <span class="o">-</span><span class="mi">1</span> <span class="k">then</span> <span class="py">@intervalId</span> <span class="o">=</span> <span class="nv">setInterval </span><span class="o">=&gt;</span>
        <span class="py">@decrement</span><span class="p">()</span>
      <span class="p">,</span> <span class="mi">50</span></pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <p><code>startDecrement</code> returns <code>false</code> to prevent default behavior
when used as an event callback.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="kc">false</span></pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <p>Ends the increment interval.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">endIncrement</span><span class="o">:</span> <span class="o">-&gt;</span>
    <span class="nx">clearInterval</span> <span class="py">@intervalId</span>
    <span class="py">@intervalId</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span></pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <p>Ends the decrement interval.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">endDecrement</span><span class="o">:</span> <span class="o">-&gt;</span>
    <span class="nx">clearInterval</span> <span class="py">@intervalId</span>
    <span class="py">@intervalId</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span></pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-23">&#182;</a>               </div>               <h3>Events Handlers</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-24">&#182;</a>               </div>               <p>Using the mouse wheel, the value is either incremented
or decremented according to the event's delta.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">mousewheel</span><span class="o">:</span> <span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">delta</span><span class="p">,</span> <span class="nx">deltaX</span><span class="p">,</span> <span class="nx">deltaY</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="k">unless</span> <span class="py">@cantInteract</span><span class="p">()</span>
      <span class="k">if</span> <span class="nx">delta</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">then</span> <span class="py">@increment</span><span class="p">()</span> <span class="k">else</span> <span class="py">@decrement</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-25">&#182;</a>               </div>               <p><code>mousewheel</code> returns <code>false</code> to prevent the page to scroll.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="kc">false</span></pre></div>             </td>           </tr>                               <tr id="section-26">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-26">&#182;</a>               </div>               <p><a name ="Spinner"></a></p>

<h1>Spinner</h1>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-27">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-27">&#182;</a>               </div>               <p>A <code>Spinner</code> is a widget that contains a text input and two buttons
to manipulate a value in a range. A <code>Spinner</code> also provides basic
behaviors such value manipulation through keyboard and mouse drag.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nb">Spinner</span> <span class="o">=</span></pre></div>             </td>           </tr>                               <tr id="section-28">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-28">&#182;</a>               </div>               <h3>Dummy Management</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-29">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-29">&#182;</a>               </div>               <p>The dummy for a <code>Spinner</code> widget is a span containing :</p>

<ul>
<li>A <code>text</code> input that allow to type a value directly.</li>
<li>A span that act as the decrement button.</li>
<li>A span that act as the increment button.</li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">createDummy</span><span class="o">:</span> <span class="o">-&gt;</span>
    <span class="nv">dummy </span><span class="o">=</span> <span class="nx">$</span> <span class="s">&quot;&lt;span class=&#39;</span><span class="si">#{</span> <span class="py">@spinnerDummyClass</span> <span class="si">}</span><span class="s">&#39;&gt;</span>
<span class="s">                &lt;input type=&#39;text&#39; class=&#39;value widget-done&#39;&gt;&lt;/input&gt;</span>
<span class="s">                &lt;span class=&#39;down&#39;&gt;&lt;/span&gt;</span>
<span class="s">                &lt;span class=&#39;up&#39;&gt;&lt;/span&gt;</span>
<span class="s">               &lt;/span&gt;&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-30">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-30">&#182;</a>               </div>               <p>The <code>Spinner</code> can, and should, be used with
the <code>HasFocusProvidedByChild</code> mixin.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="py">@focusProvider</span> <span class="o">=</span> <span class="nx">dummy</span><span class="p">.</span><span class="nx">children</span><span class="p">(</span><span class="s">&quot;input&quot;</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-31">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-31">&#182;</a>               </div>               <p>Caching queries for later uses.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">down </span><span class="o">=</span> <span class="nx">dummy</span><span class="p">.</span><span class="nx">children</span><span class="p">(</span><span class="s">&quot;.down&quot;</span><span class="p">)</span>
    <span class="nv">up </span><span class="o">=</span> <span class="nx">dummy</span><span class="p">.</span><span class="nx">children</span><span class="p">(</span><span class="s">&quot;.up&quot;</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-32">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-32">&#182;</a>               </div>               <p>Pressing on the buttons starts an increment or decrement
interval according to the pressed button.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">buttonsMousedown </span><span class="o">=</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span>
      <span class="nx">e</span><span class="p">.</span><span class="nx">stopImmediatePropagation</span><span class="p">()</span>

      <span class="py">@mousePressed</span> <span class="o">=</span> <span class="kc">true</span></pre></div>             </td>           </tr>                               <tr id="section-33">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-33">&#182;</a>               </div>               <p>The function that start and end the interval
are stored locally according to the pressed button.</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="k">switch</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span>
        <span class="k">when</span> <span class="nx">down</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
          <span class="nv">startFunction </span><span class="o">=</span> <span class="py">@startDecrement</span>
          <span class="nv">endFunction   </span><span class="o">=</span> <span class="py">@endDecrement</span>
        <span class="k">when</span> <span class="nx">up</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
          <span class="nv">startFunction </span><span class="o">=</span> <span class="py">@startIncrement</span>
          <span class="nv">endFunction   </span><span class="o">=</span> <span class="py">@endIncrement</span></pre></div>             </td>           </tr>                               <tr id="section-34">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-34">&#182;</a>               </div>               <p>Initiate the interval.</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">startFunction</span><span class="p">.</span><span class="nx">call</span> <span class="k">this</span></pre></div>             </td>           </tr>                               <tr id="section-35">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-35">&#182;</a>               </div>               <p>And register a callback to stop the interval on <code>mouseup</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">bind</span> <span class="s">&quot;mouseup&quot;</span><span class="p">,</span> <span class="py">@documentDelegate</span> <span class="o">=</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span>
        <span class="py">@mousePressed</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="nx">endFunction</span><span class="p">.</span><span class="nx">call</span> <span class="k">this</span>
        <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">unbind</span> <span class="s">&quot;mouseup&quot;</span><span class="p">,</span> <span class="py">@documentDelegate</span>

    <span class="nx">down</span><span class="p">.</span><span class="nx">bind</span> <span class="s">&quot;mousedown&quot;</span><span class="p">,</span> <span class="nx">buttonsMousedown</span>
    <span class="nx">up</span><span class="p">.</span><span class="nx">bind</span> <span class="s">&quot;mousedown&quot;</span><span class="p">,</span> <span class="nx">buttonsMousedown</span></pre></div>             </td>           </tr>                               <tr id="section-36">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-36">&#182;</a>               </div>               <p>When the mouse go out of the button while
an interval is runnung, the interval is stopped.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">down</span><span class="p">.</span><span class="nx">bind</span> <span class="s">&quot;mouseout&quot;</span><span class="p">,</span> <span class="o">=&gt;</span>
      <span class="k">if</span> <span class="py">@incrementInterval</span> <span class="o">isnt</span> <span class="o">-</span><span class="mi">1</span> <span class="k">then</span> <span class="py">@endDecrement</span><span class="p">()</span>
    <span class="nx">up</span><span class="p">.</span><span class="nx">bind</span> <span class="s">&quot;mouseout&quot;</span><span class="p">,</span> <span class="o">=&gt;</span>
      <span class="k">if</span> <span class="py">@incrementInterval</span> <span class="o">isnt</span> <span class="o">-</span><span class="mi">1</span> <span class="k">then</span> <span class="py">@endIncrement</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-37">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-37">&#182;</a>               </div>               <p>Until the mouse came back over the button.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">down</span><span class="p">.</span><span class="nx">bind</span> <span class="s">&quot;mouseover&quot;</span><span class="p">,</span> <span class="o">=&gt;</span>
      <span class="k">if</span> <span class="py">@mousePressed</span> <span class="k">then</span> <span class="py">@startDecrement</span><span class="p">()</span>
    <span class="nx">up</span><span class="p">.</span><span class="nx">bind</span> <span class="s">&quot;mouseover&quot;</span><span class="p">,</span> <span class="o">=&gt;</span>
      <span class="k">if</span> <span class="py">@mousePressed</span> <span class="k">then</span> <span class="py">@startIncrement</span><span class="p">()</span>

    <span class="nx">dummy</span></pre></div>             </td>           </tr>                               <tr id="section-38">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-38">&#182;</a>               </div>               <p>The states of the widget is reflected on the widget's input.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">updateStates</span><span class="o">:</span> <span class="o">-&gt;</span>
    <span class="py">@super</span> <span class="s">&quot;updateStates&quot;</span>

    <span class="k">if</span> <span class="py">@get</span> <span class="s">&quot;readonly&quot;</span> <span class="k">then</span> <span class="py">@focusProvider</span><span class="p">.</span><span class="nx">attr</span> <span class="s">&quot;readonly&quot;</span><span class="p">,</span> <span class="s">&quot;readonly&quot;</span>
    <span class="k">else</span> <span class="py">@focusProvider</span><span class="p">.</span><span class="nx">removeAttr</span> <span class="s">&quot;readonly&quot;</span>

    <span class="k">if</span> <span class="py">@get</span> <span class="s">&quot;disabled&quot;</span> <span class="k">then</span> <span class="py">@focusProvider</span><span class="p">.</span><span class="nx">attr</span> <span class="s">&quot;disabled&quot;</span><span class="p">,</span> <span class="s">&quot;disabled&quot;</span>
    <span class="k">else</span> <span class="py">@focusProvider</span><span class="p">.</span><span class="nx">removeAttr</span> <span class="s">&quot;disabled&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-39">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-39">&#182;</a>               </div>               <h3>Events Handlers</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-40">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-40">&#182;</a>               </div>               <p>Changes made to the input lead to an input validation.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">change</span><span class="o">:</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="py">@validateInput</span><span class="p">()</span>
  <span class="py">input</span><span class="o">:</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-41">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-41">&#182;</a>               </div>               <p>Releasing the mouse over the widget will force the focus on the
input. That way, clicking on the increment and decrement button
will also give the focus to the widget.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">mouseup</span><span class="o">:</span> <span class="o">-&gt;</span>
    <span class="k">return</span> <span class="kc">true</span> <span class="k">if</span> <span class="py">@get</span> <span class="s">&quot;disabled&quot;</span>

    <span class="py">@grabFocus</span><span class="p">()</span>

    <span class="k">if</span> <span class="py">@dragging</span>
      <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">unbind</span> <span class="s">&quot;mousemove&quot;</span><span class="p">,</span> <span class="py">@documentMouseMoveDelegate</span>
      <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">unbind</span> <span class="s">&quot;mouseup&quot;</span><span class="p">,</span>   <span class="py">@documentMouseUpDelegate</span>
      <span class="py">@dragging</span> <span class="o">=</span> <span class="kc">false</span>

    <span class="kc">true</span></pre></div>             </td>           </tr>                               <tr id="section-42">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-42">&#182;</a>               </div>               <p>A <code>Spinner</code> allow to drag the mouse vertically to change the value.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">mousedown</span><span class="o">:</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="k">return</span> <span class="kc">true</span> <span class="k">if</span> <span class="py">@cantInteract</span><span class="p">()</span>

    <span class="py">@dragging</span> <span class="o">=</span> <span class="kc">true</span>
    <span class="py">@pressedY</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">pageY</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">bind</span> <span class="s">&quot;mousemove&quot;</span><span class="p">,</span>
             <span class="py">@documentMouseMoveDelegate</span> <span class="o">=</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="py">@mousemove</span> <span class="nx">e</span>
    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">bind</span> <span class="s">&quot;mouseup&quot;</span><span class="p">,</span>
             <span class="py">@documentMouseUpDelegate</span>   <span class="o">=</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="py">@mouseup</span> <span class="nx">e</span></pre></div>             </td>           </tr>                               <tr id="section-43">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-43">&#182;</a>               </div>               <p>The value is changed on the basis that a move of 1 pixel
change the value of the amount of <code>step</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">mousemove</span><span class="o">:</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="k">if</span> <span class="py">@dragging</span>
      <span class="nv">y </span><span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">pageY</span>
      <span class="nv">dif </span><span class="o">=</span> <span class="py">@pressedY</span> <span class="o">-</span> <span class="nx">y</span>
      <span class="py">@drag</span> <span class="nx">dif</span>
      <span class="py">@pressedY</span> <span class="o">=</span> <span class="nx">y</span></pre></div>             </td>           </tr>                               <tr id="section-44">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-44">&#182;</a>               </div>               <h3>Placeholder Functions</h3>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">validateInput</span><span class="o">:</span> <span class="o">-&gt;</span>
  <span class="py">drag</span><span class="o">:</span> <span class="p">(</span><span class="nx">dif</span><span class="p">)</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-45">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-45">&#182;</a>               </div>               <p><a name ="HasFocusProvidedByChild"></a></p>

<h1>HasFocusProvidedByChild</h1>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-46">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-46">&#182;</a>               </div>               <p>Allow a widget to handle the focus trough one of its child.</p>

<p>For instance, A widget that should allow the user to input
a value with the keyboard will contains a <code>text</code> input.
In that case, the widget focus should be provided by the input
to have only one focusable element (not both the widget and its input)
and to allow to write in the input as soon as the widget get
the focus, whatever the means lead the widget to get the focus.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nb">HasFocusProvidedByChild</span> <span class="o">=</span></pre></div>             </td>           </tr>                               <tr id="section-47">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-47">&#182;</a>               </div>               <p>The constructor hook will register focus related events
on the <code>focusProvider</code> child. The widget receiving the
mixin should ensure that the property is set before
the hook call.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">constructorHook</span><span class="o">:</span> <span class="o">-&gt;</span>
    <span class="py">@focusProvider</span><span class="p">.</span><span class="nx">bind</span> <span class="py">@focusRelatedEvents</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span>
      <span class="py">@</span><span class="p">[</span><span class="nx">e</span><span class="p">.</span><span class="nx">type</span><span class="p">].</span><span class="nx">apply</span> <span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span></pre></div>             </td>           </tr>                               <tr id="section-48">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-48">&#182;</a>               </div>               <h3>Focus Management</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-49">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-49">&#182;</a>               </div>               <p>There's no need for the dummy to be able to receive the focus. So
the dummy will never have the <code>tabindex</code> attribute set.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">setFocusable</span><span class="o">:</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-50">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-50">&#182;</a>               </div>               <p>Grabbing the focus for this widget is giving the focus to its child.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">grabFocus</span><span class="o">:</span> <span class="o">-&gt;</span>
    <span class="py">@focusProvider</span><span class="p">.</span><span class="nx">focus</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-51">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-51">&#182;</a>               </div>               <h3>Events Handling</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-52">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-52">&#182;</a>               </div>               <p>Since focus related events will be provided by another object,
the events that the widget will receive from its dummy is reduced.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">supportedEvents</span><span class="o">:</span> <span class="p">[</span>
    <span class="s">&quot;mousedown&quot;</span><span class="p">,</span> <span class="s">&quot;mouseup&quot;</span><span class="p">,</span>     <span class="s">&quot;mousemove&quot;</span><span class="p">,</span> <span class="s">&quot;mouseover&quot;</span><span class="p">,</span>
    <span class="s">&quot;mouseout&quot;</span><span class="p">,</span>  <span class="s">&quot;mousewheel&quot;</span><span class="p">,</span>  <span class="s">&quot;click&quot;</span><span class="p">,</span>     <span class="s">&quot;dblclick&quot;</span><span class="p">,</span>
  <span class="p">].</span><span class="nx">join</span> <span class="s">&quot; &quot;</span></pre></div>             </td>           </tr>                               <tr id="section-53">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-53">&#182;</a>               </div>               <p>Since keyboard events can only be received from the element
that have the focus, the widget will listen the keyboard events
from the focus provider and not from the dummy.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">focusRelatedEvents</span><span class="o">:</span> <span class="p">[</span>
    <span class="s">&quot;focus&quot;</span><span class="p">,</span>     <span class="s">&quot;blur&quot;</span><span class="p">,</span>         <span class="s">&quot;keyup&quot;</span><span class="p">,</span>     <span class="s">&quot;keydown&quot;</span><span class="p">,</span>
    <span class="s">&quot;keypress&quot;</span><span class="p">,</span>  <span class="s">&quot;input&quot;</span><span class="p">,</span>        <span class="s">&quot;change&quot;</span><span class="p">,</span>
  <span class="p">].</span><span class="nx">join</span> <span class="s">&quot; &quot;</span></pre></div>             </td>           </tr>                               <tr id="section-54">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-54">&#182;</a>               </div>               <p>Both unregister events from the dummy and from the focus provider.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">unregisterFromDummyEvents</span><span class="o">:</span> <span class="o">-&gt;</span>
    <span class="py">@focusProvider</span><span class="p">.</span><span class="nx">unbind</span> <span class="py">@focusRelatedEvents</span>
    <span class="py">@super</span> <span class="s">&quot;unregisterFromDummyEvents&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-55">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-55">&#182;</a>               </div>               <p>Releasing the mouse over the widget gives it the focus.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">mouseup</span><span class="o">:</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="py">@grabFocus</span><span class="p">()</span> <span class="k">unless</span> <span class="py">@get</span> <span class="s">&quot;disabled&quot;</span>
    <span class="kc">true</span></pre></div>             </td>           </tr>                               <tr id="section-56">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-56">&#182;</a>               </div>               <p><a name ="HasChildren"></a></p>

<h1>HasChildren</h1>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-57">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-57">&#182;</a>               </div>               <p>Allow a widget to have widgets as children.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nb">HasChildren</span> <span class="o">=</span>
  <span class="py">constructorHook</span><span class="o">:</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-58">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-58">&#182;</a>               </div>               <p>Children widgets are stored in an array in the
<code>children</code> property.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="py">@children</span> <span class="o">=</span> <span class="p">[]</span></pre></div>             </td>           </tr>                               <tr id="section-59">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-59">&#182;</a>               </div>               <h3>Children Management</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-60">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-60">&#182;</a>               </div>               <p>Use the <code>add</code> method to add child to this container.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">add</span><span class="o">:</span> <span class="p">(</span><span class="nx">child</span><span class="p">)</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-61">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-61">&#182;</a>               </div>               <p>Only widgets that are not already a child are allowed.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="k">if</span> <span class="nx">child</span><span class="o">?</span> <span class="o">and</span> <span class="nx">child</span><span class="p">.</span><span class="nx">isWidget</span> <span class="o">and</span> <span class="nx">child</span> <span class="o">not</span> <span class="k">in</span> <span class="py">@children</span>
      <span class="py">@children</span><span class="p">.</span><span class="nx">push</span> <span class="nx">child</span></pre></div>             </td>           </tr>                               <tr id="section-62">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-62">&#182;</a>               </div>               <p>When a child widget is added to a <code>container</code>,
its dummy is appended to the container's dummy.</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">child</span><span class="p">.</span><span class="nx">attach</span> <span class="py">@dummy</span></pre></div>             </td>           </tr>                               <tr id="section-63">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-63">&#182;</a>               </div>               <p>Widgets can acces their parent through the <code>parent</code> property.</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nv">child.parent </span><span class="o">=</span> <span class="k">this</span></pre></div>             </td>           </tr>                               <tr id="section-64">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-64">&#182;</a>               </div>               <p>Use the <code>remove</code> method to remove a child from this container.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">remove</span><span class="o">:</span> <span class="p">(</span><span class="nx">child</span><span class="p">)</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-65">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-65">&#182;</a>               </div>               <p>Only widgets that are already a children of this container
can be removed.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="k">if</span> <span class="nx">child</span><span class="o">?</span> <span class="o">and</span> <span class="nx">child</span> <span class="k">in</span> <span class="py">@children</span>
      <span class="py">@children</span><span class="p">.</span><span class="nx">splice</span> <span class="py">@children</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">child</span><span class="p">),</span> <span class="mi">1</span></pre></div>             </td>           </tr>                               <tr id="section-66">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-66">&#182;</a>               </div>               <p>The child's dummy is then detached from the container's dummy.</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">child</span><span class="p">.</span><span class="nx">detach</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-67">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-67">&#182;</a>               </div>               <p>The children no longer hold a reference to its previous
parent at the end of the call.</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nv">child.parent </span><span class="o">=</span> <span class="kc">null</span></pre></div>             </td>           </tr>                               <tr id="section-68">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-68">&#182;</a>               </div>               <p>Focus on the widget is prevented if the focus target
is one of its children.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">focus</span><span class="o">:</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="py">@super</span> <span class="s">&quot;focus&quot;</span><span class="p">,</span> <span class="nx">e</span> <span class="k">if</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span> <span class="o">is</span> <span class="py">@dummy</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></pre></div>             </td>           </tr>                               <tr id="section-69">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-69">&#182;</a>               </div>               <p><a name ="DropDownPopup"></a></p>

<h1>DropDownPopup</h1>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-70">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-70">&#182;</a>               </div>               <p>A  <code>DropDownPopup</code> widget is a widget which display is triggered
by and bound to another widget.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nb">DropDownPopup</span> <span class="o">=</span>
  <span class="py">constructorHook</span><span class="o">:</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-71">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-71">&#182;</a>               </div>               <p>A drop down popup is hidden at creation.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="py">@dummy</span><span class="p">.</span><span class="nx">hide</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-72">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-72">&#182;</a>               </div>               <p>Using the <code>Enter</code> key while editing a color comfirm the edit
and close the drop down popup.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="py">@registerKeyDownCommand</span> <span class="nx">keystroke</span><span class="p">(</span><span class="nx">keys</span><span class="p">.</span><span class="nx">enter</span><span class="p">),</span> <span class="py">@comfirmChangesOnEnter</span></pre></div>             </td>           </tr>                               <tr id="section-73">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-73">&#182;</a>               </div>               <p>Using the <code>Escape</code> ket while editing abort the current edit
and close the drop down popup.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="py">@registerKeyDownCommand</span> <span class="nx">keystroke</span><span class="p">(</span><span class="nx">keys</span><span class="p">.</span><span class="nx">escape</span><span class="p">),</span> <span class="py">@abortChanges</span></pre></div>             </td>           </tr>                               <tr id="section-74">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-74">&#182;</a>               </div>               <h3>Display Management</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-75">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-75">&#182;</a>               </div>               <p>Handles the <em>opening</em> of the popup.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">open</span><span class="o">:</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-76">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-76">&#182;</a>               </div>               <p>The drop down popup register itself to catch clicks done
outside of it. When it occurs the drop down popup will close
itself and call the <code>comfirmChanges</code> method.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">bind</span> <span class="s">&quot;mouseup&quot;</span><span class="p">,</span> <span class="py">@documentDelegate</span> <span class="o">=</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span>
      <span class="py">@comfirmChanges</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-77">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-77">&#182;</a>               </div>               <p>The dummy is placed below the widget that requested
the drop down popup.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="py">@dummy</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s">&quot;left&quot;</span><span class="p">,</span> <span class="py">@caller</span><span class="p">.</span><span class="nx">dummy</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">left</span> <span class="p">)</span>
          <span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s">&quot;top&quot;</span><span class="p">,</span>  <span class="py">@caller</span><span class="p">.</span><span class="nx">dummy</span><span class="p">.</span><span class="nx">offset</span><span class="p">().</span><span class="nx">top</span> <span class="o">+</span>
                 <span class="py">@caller</span><span class="p">.</span><span class="nx">dummy</span><span class="p">.</span><span class="nx">height</span><span class="p">()</span> <span class="p">)</span>
          <span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s">&quot;position&quot;</span><span class="p">,</span> <span class="s">&quot;absolute&quot;</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-78">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-78">&#182;</a>               </div>               <p>The dummy is then displayed.</p>             </td>             <td class="code">               <div class="highlight"><pre>          <span class="p">.</span><span class="nx">show</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-79">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-79">&#182;</a>               </div>               <p>At the end of the request the drop down popup gets the focus.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="py">@grabFocus</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-80">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-80">&#182;</a>               </div>               <p>Hides the dummy of this drop down popup.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">close</span><span class="o">:</span> <span class="o">-&gt;</span>
    <span class="py">@dummy</span><span class="p">.</span><span class="nx">hide</span><span class="p">()</span>
    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">unbind</span> <span class="s">&quot;mouseup&quot;</span><span class="p">,</span> <span class="py">@documentDelegate</span>

    <span class="py">@caller</span><span class="p">.</span><span class="nx">grabFocus</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-81">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-81">&#182;</a>               </div>               <h3>Signals Handlers</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-82">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-82">&#182;</a>               </div>               <p>Receive a signal from a <code>caller</code> object that need the drop down popup
to appear.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">dialogRequested</span><span class="o">:</span> <span class="p">(</span><span class="nx">caller</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="py">@caller</span> <span class="o">=</span> <span class="nx">caller</span>
    <span class="py">@setupDialog</span> <span class="nx">caller</span>
    <span class="py">@open</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-83">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-83">&#182;</a>               </div>               <h3>Events Handlers</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-84">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-84">&#182;</a>               </div>               <p>Prevents the click on the dummy to bubble to the <code>document</code> object.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">mouseup</span><span class="o">:</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nx">e</span><span class="p">.</span><span class="nx">stopImmediatePropagation</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-85">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-85">&#182;</a>               </div>               <h3>Placeholder Functions</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-86">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-86">&#182;</a>               </div>               <p>Placeholder functions that you can overrides to implements the concrete
comfirmation/cancelation routines of your widget.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">abortChanges</span><span class="o">:</span> <span class="o">-&gt;</span> <span class="py">@close</span><span class="p">()</span>
  <span class="py">comfirmChanges</span><span class="o">:</span> <span class="o">-&gt;</span>
  <span class="py">comfirmChangesOnEnter</span><span class="o">:</span> <span class="o">-&gt;</span>
  <span class="py">setupDialog</span><span class="o">:</span> <span class="p">(</span><span class="nx">caller</span><span class="p">)</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-87">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-87">&#182;</a>               </div>               <p><a name="HasMenuModel"></a></p>

<h1>HasMenuModel</h1>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-88">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-88">&#182;</a>               </div>               <p>The <code>HasMenuModel</code> mixin provides a widget with the ability of owning
a <code>MenuModel</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nb">HasMenuModel</span> <span class="o">=</span></pre></div>             </td>           </tr>                               <tr id="section-89">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-89">&#182;</a>               </div>               <p>Returns the path to the specified value.</p>

<p>The <code>model</code> argument is optionnal and allow
to use the <code>findValue</code> method recursively.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">findValue</span><span class="o">:</span> <span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nv">model </span><span class="o">=</span> <span class="py">@model</span><span class="p">)</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-90">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-90">&#182;</a>               </div>               <p>If the value is <code>null</code> or if it's an empty string
the function returns <code>null</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="k">return</span> <span class="kc">null</span> <span class="k">if</span> <span class="o">not</span> <span class="nx">value</span><span class="o">?</span> <span class="o">or</span> <span class="nx">value</span> <span class="o">is</span> <span class="s">&quot;&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-91">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-91">&#182;</a>               </div>               <p>The search result for the pass are stored in an array.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">passResults </span><span class="o">=</span> <span class="kc">null</span>
    <span class="k">for</span> <span class="nx">item</span> <span class="k">in</span> <span class="nx">model</span><span class="p">.</span><span class="nx">items</span></pre></div>             </td>           </tr>                               <tr id="section-92">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-92">&#182;</a>               </div>               <p>If an item's value of the current value is the searched
value, the index of this item in the current model is
set as the pass result.</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="k">if</span> <span class="nx">item</span><span class="p">.</span><span class="nx">value</span> <span class="o">is</span> <span class="nx">value</span>
        <span class="nv">passResults </span><span class="o">=</span> <span class="p">[</span><span class="nb">_i</span><span class="p">]</span>
        <span class="k">break</span></pre></div>             </td>           </tr>                               <tr id="section-93">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-93">&#182;</a>               </div>               <p>If the item is a sub-model, a sub-pass is processed.</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="k">else</span> <span class="k">if</span> <span class="nx">item</span><span class="p">.</span><span class="nx">menu</span><span class="o">?</span>
        <span class="nv">subPassResults </span><span class="o">=</span> <span class="py">@findValue</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">item</span><span class="p">.</span><span class="nx">menu</span></pre></div>             </td>           </tr>                               <tr id="section-94">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-94">&#182;</a>               </div>               <p>If the sub-pass returns a result, the sub-model
index is added to the pass result with the result
of the sub-pass.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="k">if</span> <span class="nx">subPassResults</span><span class="o">?</span>
          <span class="nv">passResults </span><span class="o">=</span> <span class="p">[</span><span class="nb">_i</span><span class="p">].</span><span class="nx">concat</span> <span class="nx">subPassResults</span>
          <span class="k">break</span>

    <span class="nx">passResults</span></pre></div>             </td>           </tr>                               <tr id="section-95">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-95">&#182;</a>               </div>               <p>Returns the item at <code>path</code> in the model.
If the <code>path</code> argument is <code>null</code> or if the
path lead to a dead end, the function returns
<code>null</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">getItemAt</span><span class="o">:</span> <span class="p">(</span><span class="nx">path</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="k">return</span> <span class="k">unless</span> <span class="nx">path</span><span class="o">?</span>

    <span class="nv">model </span><span class="o">=</span> <span class="py">@model</span>
    <span class="nv">item </span><span class="o">=</span> <span class="kc">null</span>
    <span class="k">for</span> <span class="nx">step</span> <span class="k">in</span> <span class="nx">path</span>
      <span class="nv">item </span><span class="o">=</span> <span class="nx">model</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="nx">step</span><span class="p">]</span>
      <span class="k">return</span> <span class="kc">null</span> <span class="k">unless</span> <span class="nx">item</span><span class="o">?</span>

      <span class="nv">model </span><span class="o">=</span> <span class="nx">item</span><span class="p">.</span><span class="nx">menu</span> <span class="k">if</span> <span class="nx">item</span><span class="o">?</span><span class="p">.</span><span class="nx">menu</span><span class="o">?</span>

    <span class="nx">item</span></pre></div>             </td>           </tr>                               <tr id="section-96">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-96">&#182;</a>               </div>               <p>Returns the last model that contains the item at <code>path</code>.
If the <code>path</code> argument is <code>null</code> or if the path lead
to a dead end, the function returns <code>null</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">getModelAt</span><span class="o">:</span> <span class="p">(</span><span class="nx">path</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="k">return</span> <span class="k">if</span> <span class="nx">path</span> <span class="o">is</span> <span class="kc">null</span>

    <span class="nv">model </span><span class="o">=</span> <span class="py">@model</span>
    <span class="nv">item </span><span class="o">=</span> <span class="kc">null</span>
    <span class="k">for</span> <span class="nx">step</span> <span class="k">in</span> <span class="nx">path</span>
      <span class="nv">item </span><span class="o">=</span> <span class="nx">model</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="nx">step</span><span class="p">]</span>
      <span class="k">return</span> <span class="kc">null</span> <span class="k">unless</span> <span class="nx">item</span><span class="o">?</span>

      <span class="nv">model </span><span class="o">=</span> <span class="nx">item</span><span class="p">.</span><span class="nx">menu</span> <span class="k">if</span> <span class="nx">item</span><span class="o">?</span><span class="p">.</span><span class="nx">menu</span><span class="o">?</span>

    <span class="nx">model</span></pre></div>             </td>           </tr>                               <tr id="section-97">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-97">&#182;</a>               </div>               <h3>Properties Accessors</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-98">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-98">&#182;</a>               </div>               <p>Changes the model of this widget.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">set_model</span><span class="o">:</span> <span class="p">(</span><span class="nx">property</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="py">@model</span><span class="o">?</span><span class="p">.</span><span class="nx">contentChanged</span><span class="p">.</span><span class="nx">remove</span> <span class="py">@modelChanged</span><span class="p">,</span> <span class="k">this</span>
    <span class="py">@model</span> <span class="o">=</span> <span class="nx">value</span>
    <span class="py">@model</span><span class="o">?</span><span class="p">.</span><span class="nx">contentChanged</span><span class="p">.</span><span class="nx">add</span> <span class="py">@modelChanged</span><span class="p">,</span> <span class="k">this</span>
    <span class="nx">value</span></pre></div>             </td>           </tr>                               <tr id="section-99">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-99">&#182;</a>               </div>               <h3>Placeholder Function</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-100">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-100">&#182;</a>               </div>               <p>Called whenever the model changed.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">modelChanged</span><span class="o">:</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-101">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-101">&#182;</a>               </div>               <p><a name="HasOptions"></a></p>

<h1>HasOptions</h1>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-102">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-102">&#182;</a>               </div>               <p>A mixin that handles <code>option</code> node within a select and manage a <code>MenuModel</code>
builded with these options.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nb">HasOptions</span> <span class="o">=</span></pre></div>             </td>           </tr>                               <tr id="section-103">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-103">&#182;</a>               </div>               <h3>Model Management</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-104">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-104">&#182;</a>               </div>               <p>The <code>modelFromOptions</code> automatically construct a <code>MenuModel</code>
corresponding to the current target.</p>

<p>The <code>optgroup</code> nodes are handled as sub-models when <code>option</code>
nodes are actually the models's items.</p>

<p>By contrast with the native select widget, the nested
options groups are preserved in the data structure. Each
<code>optgroup</code> will appear as a submenu in a <code>MenuList</code> and
will open a new <code>MenuList</code> with the data of the <code>optgroup</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">modelFromOptions</span><span class="o">:</span> <span class="p">(</span><span class="nx">model</span><span class="p">,</span> <span class="nx">node</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="nx">node</span><span class="p">.</span><span class="nx">each</span> <span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">o</span><span class="p">)</span> <span class="o">=&gt;</span>
      <span class="nv">option </span><span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span>
      <span class="k">if</span> <span class="nx">o</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">is</span> <span class="s">&quot;optgroup&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-105">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-105">&#182;</a>               </div>               <p>Sub-models are represented by an object that
have a <code>menu</code> property that contains a <code>MenuModel</code>
instance.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nx">model</span><span class="p">.</span><span class="nx">add</span>
          <span class="py">display</span><span class="o">:</span> <span class="py">@getOptionLabel</span> <span class="nx">option</span></pre></div>             </td>           </tr>                               <tr id="section-106">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-106">&#182;</a>               </div>               <p>Nodes traversing is done recursively.</p>             </td>             <td class="code">               <div class="highlight"><pre>          <span class="py">menu</span><span class="o">:</span> <span class="py">@modelFromOptions</span> <span class="k">new</span> <span class="nb">MenuModel</span><span class="p">,</span> <span class="nx">option</span><span class="p">.</span><span class="nx">children</span><span class="p">()</span>
      <span class="k">else</span></pre></div>             </td>           </tr>                               <tr id="section-107">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-107">&#182;</a>               </div>               <p>Model's items are represented by an object that
have both a <code>value</code> and an <code>action</code> property.</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="nv">value </span><span class="o">=</span> <span class="py">@getOptionValue</span><span class="p">(</span><span class="nx">option</span><span class="p">)</span>
        <span class="nx">model</span><span class="p">.</span><span class="nx">add</span>
          <span class="py">display</span><span class="o">:</span> <span class="py">@getOptionLabel</span> <span class="nx">option</span>
          <span class="py">value</span><span class="o">:</span> <span class="nx">value</span>

    <span class="nx">model</span></pre></div>             </td>           </tr>                               <tr id="section-108">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-108">&#182;</a>               </div>               <h3>Options Management</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-109">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-109">&#182;</a>               </div>               <p>Removes all the <code>option</code> nodes in the target.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">clearOptions</span><span class="o">:</span> <span class="o">-&gt;</span>
    <span class="py">@jTarget</span><span class="p">.</span><span class="nx">children</span><span class="p">().</span><span class="nx">remove</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-110">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-110">&#182;</a>               </div>               <p>Build the content of the target based on the current model's data.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">optionsFromModel</span><span class="o">:</span> <span class="p">(</span><span class="nv">model </span><span class="o">=</span> <span class="py">@model</span><span class="p">,</span> <span class="nv">target </span><span class="o">=</span> <span class="py">@jTarget</span><span class="p">)</span> <span class="o">-&gt;</span>

    <span class="k">for</span> <span class="nx">act</span> <span class="k">in</span> <span class="nx">model</span><span class="p">.</span><span class="nx">items</span>
      <span class="k">if</span> <span class="nx">act</span><span class="p">.</span><span class="nx">menu</span><span class="o">?</span>
        <span class="nv">group </span><span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s">&quot;&lt;optgroup label=&#39;</span><span class="si">#{</span><span class="nx">act</span><span class="p">.</span><span class="nx">display</span><span class="si">}</span><span class="s">&#39;&gt;&lt;/optgroup&gt;&quot;</span><span class="p">)</span>
        <span class="nx">target</span><span class="p">.</span><span class="nx">append</span> <span class="nx">group</span>
        <span class="py">@optionsFromModel</span> <span class="nx">act</span><span class="p">.</span><span class="nx">menu</span><span class="p">,</span> <span class="nx">group</span>
      <span class="k">else</span>
        <span class="nv">act.action </span><span class="o">=</span> <span class="p">(</span> <span class="o">=&gt;</span> <span class="py">@set</span> <span class="s">&quot;value&quot;</span><span class="p">,</span> <span class="nx">act</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span> <span class="k">unless</span> <span class="nx">act</span><span class="p">.</span><span class="nx">action</span><span class="o">?</span>
        <span class="nx">target</span><span class="p">.</span><span class="nx">append</span> <span class="nx">$</span><span class="p">(</span><span class="s">&quot;&lt;option value=&#39;</span><span class="si">#{</span><span class="nx">act</span><span class="p">.</span><span class="nx">value</span><span class="si">}</span><span class="s">&#39;&gt;</span><span class="si">#{</span><span class="nx">act</span><span class="p">.</span><span class="nx">display</span><span class="si">}</span><span class="s">&lt;/option&gt;&quot;</span><span class="p">)</span></pre></div>             </td>           </tr>                               <tr id="section-111">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-111">&#182;</a>               </div>               <p>Returns the label to use for a given <code>option</code> or <code>optgroup</code> node.
If provided the <code>label</code> attribute will have the priority. If not
the node content will be used instead.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">getOptionLabel</span><span class="o">:</span> <span class="p">(</span><span class="nx">option</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="k">return</span> <span class="kc">null</span> <span class="k">unless</span> <span class="nx">option</span><span class="o">?</span>
    <span class="k">if</span> <span class="nx">option</span><span class="p">.</span><span class="nx">attr</span> <span class="s">&quot;label&quot;</span> <span class="k">then</span> <span class="nx">option</span><span class="p">.</span><span class="nx">attr</span> <span class="s">&quot;label&quot;</span> <span class="k">else</span> <span class="nx">option</span><span class="p">.</span><span class="nx">text</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-112">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-112">&#182;</a>               </div>               <p>Returns the value to use for a given <code>option</code> node.
If provided the <code>value</code> attribute will have the priority. If not
the node content will be used instead.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">getOptionValue</span><span class="o">:</span> <span class="p">(</span><span class="nx">option</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="k">return</span> <span class="kc">null</span> <span class="k">unless</span> <span class="nx">option</span><span class="o">?</span>
    <span class="k">if</span> <span class="nx">option</span><span class="p">.</span><span class="nx">attr</span> <span class="s">&quot;value&quot;</span> <span class="k">then</span> <span class="nx">option</span><span class="p">.</span><span class="nx">attr</span> <span class="s">&quot;value&quot;</span> <span class="k">else</span> <span class="nx">option</span><span class="p">.</span><span class="nx">text</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-113">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-113">&#182;</a>               </div>               <p>Returns the <code>option</code> or <code>optgroup</code> node at the specified <code>path</code>.
If the <code>path</code> argument is <code>null</code> or if the path lead to a dead end
the function returns <code>null</code></p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">getOptionAt</span><span class="o">:</span> <span class="p">(</span><span class="nx">path</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="k">return</span> <span class="kc">null</span> <span class="k">if</span> <span class="nx">path</span> <span class="o">is</span> <span class="kc">null</span>

    <span class="nv">option </span><span class="o">=</span> <span class="kc">null</span>
    <span class="k">if</span> <span class="py">@hasTarget</span>
      <span class="nv">children </span><span class="o">=</span> <span class="py">@jTarget</span><span class="p">.</span><span class="nx">children</span><span class="p">()</span>
      <span class="k">for</span> <span class="nx">step</span> <span class="k">in</span> <span class="nx">path</span>
        <span class="nv">option </span><span class="o">=</span> <span class="nx">children</span><span class="p">[</span><span class="nx">step</span><span class="p">]</span>
        <span class="nv">children </span><span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">option</span><span class="p">).</span><span class="nx">children</span><span class="p">()</span> <span class="k">if</span> <span class="nx">option</span><span class="o">?</span><span class="p">.</span><span class="nx">nodeName</span>

    <span class="k">if</span> <span class="nx">option</span><span class="o">?</span> <span class="k">then</span> <span class="nx">$</span><span class="p">(</span><span class="nx">option</span><span class="p">)</span> <span class="k">else</span> <span class="kc">null</span></pre></div>             </td>           </tr>                               <tr id="section-114">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-114">&#182;</a>               </div>               <p><a name="HasPopupMenuList"></a></p>

<h1>HasPopupMenuList</h1>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-115">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-115">&#182;</a>               </div>               <p>A mixin that allow a widget to own a <code>MenuList</code> that displays
the content of the widget's <code>MenuModel</code>.</p>

<p>The <code>HasPopupMenuList</code> should be used in combination with the <code>HasMenuModel</code>
mixin.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nb">HasPopupMenuList</span> <span class="o">=</span></pre></div>             </td>           </tr>                               <tr id="section-116">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-116">&#182;</a>               </div>               <p>Creates a <code>MenuList</code> instance for this widget.
The same model is shared between the widget and
its <code>MenuList</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">buildMenu</span><span class="o">:</span> <span class="o">-&gt;</span>
    <span class="py">@menuList</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">MenuList</span> <span class="py">@model</span></pre></div>             </td>           </tr>                               <tr id="section-117">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-117">&#182;</a>               </div>               <p>Opens the <code>MenuList</code> for this instance.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">openMenu</span><span class="o">:</span> <span class="o">-&gt;</span>
    <span class="k">unless</span> <span class="py">@cantInteract</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-118">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-118">&#182;</a>               </div>               <p>Pressing the mouse on the document when the <code>MenuList</code> is
opened will close the menu.</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">bind</span> <span class="s">&quot;mousedown&quot;</span><span class="p">,</span> <span class="py">@documentDelegate</span> <span class="o">=</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span>
        <span class="py">@documentMouseDown</span> <span class="nx">e</span>

      <span class="py">@adjustMenu</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-119">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-119">&#182;</a>               </div>               <p>The <code>MenuList</code> dummy is appended directly on the document body.</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="py">@menuList</span><span class="p">.</span><span class="nx">attach</span> <span class="s">&quot;body&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-120">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-120">&#182;</a>               </div>               <p>The focus is then placed on the <code>MenuList</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>      <span class="py">@menuList</span><span class="p">.</span><span class="nx">grabFocus</span><span class="p">()</span>
      <span class="py">@displayMenuSelection</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-121">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-121">&#182;</a>               </div>               <p>Closes the <code>MenuList</code> for this instance.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">closeMenu</span><span class="o">:</span> <span class="o">-&gt;</span>
    <span class="py">@menuList</span><span class="p">.</span><span class="nx">close</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-122">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-122">&#182;</a>               </div>               <p>When the <code>MenuList</code> is closed, the widget
recover the focus.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="py">@grabFocus</span><span class="p">()</span>

    <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">unbind</span> <span class="s">&quot;mousedown&quot;</span><span class="p">,</span> <span class="py">@documentDelegate</span></pre></div>             </td>           </tr>                               <tr id="section-123">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-123">&#182;</a>               </div>               <p>Returns <code>true</code> is the <code>MenuList</code> is currently present in the DOM.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">isMenuVisible</span><span class="o">:</span> <span class="o">-&gt;</span>
    <span class="py">@menuList</span><span class="p">.</span><span class="nx">dummy</span><span class="p">.</span><span class="nx">parent</span><span class="p">().</span><span class="nx">length</span> <span class="o">is</span> <span class="mi">1</span></pre></div>             </td>           </tr>                               <tr id="section-124">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-124">&#182;</a>               </div>               <h3>Placeholder Functions</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-125">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-125">&#182;</a>               </div>               <p>Overrides the <code>displayMenuSelection</code> method to implements
the changes on the <code>MenuList</code> that should occurs according
to the selection.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">displayMenuSelection</span><span class="o">:</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-126">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-126">&#182;</a>               </div>               <p>Overrides the <code>adjustMenu</code> method to implement the positionning
of the <code>MenuList</code> when opened by this widget.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">adjustMenu</span><span class="o">:</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-127">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-127">&#182;</a>               </div>               <h3>Events Handlers</h3>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-128">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-128">&#182;</a>               </div>               <p>Pressing the mouse over the document will close the menu.</p>

<p>There's no need to test the position of the mouse since
both the widget and its <code>MenuList</code> stop the propagation
of the event and prevents the document to catch it.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">documentMouseDown</span><span class="o">:</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="py">@closeMenu</span><span class="p">()</span></pre></div>             </td>           </tr>                               <tr id="section-129">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-129">&#182;</a>               </div>               <p><a name="HasSingleSelection"></a></p>

<h1>HasSingleSelection</h1>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-130">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-130">&#182;</a>               </div>               <p>The <code>HasSingleSelection</code> provides a widget with the ability
to select an item within a <code>MenuModel</code>.</p>

<p>The <code>HasSingleSelection</code> mixin should be used in combination
with the <code>HasMenuModel</code> and the <code>HasOptions</code> mixins.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nb">HasSingleSelection</span> <span class="o">=</span>

  <span class="py">constructorHook</span><span class="o">:</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-131">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-131">&#182;</a>               </div>               <p>The path to the selected item is stored in an array
containing the index of each elements in the path.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="py">@selectedPath</span> <span class="o">=</span> <span class="kc">null</span></pre></div>             </td>           </tr>                               <tr id="section-132">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-132">&#182;</a>               </div>               <p>Pressing the <code>up</code> or <code>down</code> keys when the widget has the
focus will move the selection up or down accordingly.</p>

<p>When moving the selection with the keyboard, the data
structure appear to be flatten. The selection cursor
automatically enters or leaves group to find the next
value.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="py">@registerKeyDownCommand</span> <span class="nx">keystroke</span><span class="p">(</span><span class="nx">keys</span><span class="p">.</span><span class="nx">up</span><span class="p">),</span>    <span class="py">@moveSelectionUp</span>
    <span class="py">@registerKeyDownCommand</span> <span class="nx">keystroke</span><span class="p">(</span><span class="nx">keys</span><span class="p">.</span><span class="nx">down</span><span class="p">),</span>  <span class="py">@moveSelectionDown</span></pre></div>             </td>           </tr>                               <tr id="section-133">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-133">&#182;</a>               </div>               <p>Updates the state of the target accordingly with
the current selection of the widget.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">updateOptionSelection</span><span class="o">:</span> <span class="p">()</span> <span class="o">-&gt;</span>
    <span class="py">@getOptionAt</span><span class="p">(</span><span class="py">@selectedPath</span><span class="p">)</span><span class="o">?</span><span class="p">.</span><span class="nx">attr</span> <span class="s">&quot;selected&quot;</span><span class="p">,</span> <span class="s">&quot;selected&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-134">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-134">&#182;</a>               </div>               <p>Finds the next selectionable item in the model.</p>

<p>When the next item is a sub-model, the search continue
in the sub-model. In the same way, when there's no longer
an item in the current sub-model, the search continue one
level higher after the sub-model.</p>

<p>If there's no longer any element after the current path,
the search restart from the top.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">findNext</span><span class="o">:</span> <span class="p">(</span><span class="nx">path</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="nv">model </span><span class="o">=</span> <span class="py">@getModelAt</span> <span class="nx">path</span>
    <span class="nv">step </span><span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="nv">newPath </span><span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">concat</span><span class="p">()</span>
    <span class="nx">newPath</span><span class="p">[</span><span class="nx">step</span><span class="p">]</span><span class="o">++</span>

    <span class="nv">nextItem </span><span class="o">=</span> <span class="py">@getItemAt</span> <span class="nx">newPath</span>

    <span class="k">while</span> <span class="o">not</span> <span class="nx">nextItem</span><span class="o">?</span> <span class="o">or</span> <span class="nx">nextItem</span><span class="p">.</span><span class="nx">menu</span><span class="o">?</span>
      <span class="k">if</span> <span class="nx">nextItem</span><span class="o">?</span>
        <span class="k">if</span> <span class="nx">nextItem</span><span class="p">.</span><span class="nx">menu</span><span class="o">?</span>
          <span class="nx">newPath</span><span class="p">.</span><span class="nx">push</span> <span class="mi">0</span>
          <span class="nx">step</span><span class="o">++</span>
      <span class="k">else</span> <span class="k">if</span> <span class="nx">step</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="nx">step</span><span class="o">--</span>
        <span class="nx">newPath</span><span class="p">.</span><span class="nx">pop</span><span class="p">()</span>
        <span class="nx">newPath</span><span class="p">[</span><span class="nx">step</span><span class="p">]</span><span class="o">++</span>
        <span class="nv">nextItem </span><span class="o">=</span> <span class="py">@getItemAt</span> <span class="nx">newPath</span>
      <span class="k">else</span>
        <span class="nv">newPath </span><span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>

      <span class="nv">nextItem </span><span class="o">=</span> <span class="py">@getItemAt</span> <span class="nx">newPath</span>

    <span class="nx">newPath</span></pre></div>             </td>           </tr>                               <tr id="section-135">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-135">&#182;</a>               </div>               <p>Finds the previous selectionable item in the model.</p>

<p>When the previous item is a sub-model, the search continue
in the sub-model. In the same way, when there's no longer
an item in the current sub-model, the search continue one
level higher before the sub-model.</p>

<p>If there's no longer any element before the current path,
the search restart from the bottom.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">findPrevious</span><span class="o">:</span> <span class="p">(</span><span class="nx">path</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="nv">model </span><span class="o">=</span> <span class="py">@getModelAt</span> <span class="nx">path</span>
    <span class="nv">step </span><span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="nv">newPath </span><span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">concat</span><span class="p">()</span>
    <span class="nx">newPath</span><span class="p">[</span><span class="nx">step</span><span class="p">]</span><span class="o">--</span>

    <span class="nv">previousItem </span><span class="o">=</span> <span class="py">@getItemAt</span> <span class="nx">newPath</span>

    <span class="k">while</span> <span class="o">not</span> <span class="nx">previousItem</span><span class="o">?</span> <span class="o">or</span> <span class="nx">previousItem</span><span class="p">.</span><span class="nx">menu</span><span class="o">?</span>
      <span class="k">if</span> <span class="nx">previousItem</span><span class="o">?</span>
        <span class="k">if</span> <span class="nx">previousItem</span><span class="p">.</span><span class="nx">menu</span><span class="o">?</span>
          <span class="nx">newPath</span><span class="p">.</span><span class="nx">push</span> <span class="mi">0</span>
          <span class="nx">step</span><span class="o">++</span>
          <span class="nx">newPath</span><span class="p">[</span><span class="nx">step</span><span class="p">]</span> <span class="o">=</span> <span class="py">@getModelAt</span><span class="p">(</span><span class="nx">newPath</span><span class="p">).</span><span class="nx">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span>
      <span class="k">else</span> <span class="k">if</span> <span class="nx">step</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="nx">step</span><span class="o">--</span>
        <span class="nx">newPath</span><span class="p">.</span><span class="nx">pop</span><span class="p">()</span>
        <span class="nx">newPath</span><span class="p">[</span><span class="nx">step</span><span class="p">]</span><span class="o">--</span>
        <span class="nv">previousItem </span><span class="o">=</span> <span class="py">@getItemAt</span> <span class="nx">newPath</span>
      <span class="k">else</span>
        <span class="nv">newPath </span><span class="o">=</span> <span class="p">[</span><span class="py">@model</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>

      <span class="nv">previousItem </span><span class="o">=</span> <span class="py">@getItemAt</span> <span class="nx">newPath</span>

    <span class="nx">newPath</span></pre></div>             </td>           </tr>                               <tr id="section-136">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-136">&#182;</a>               </div>               <p>Moves the selection cursor to the up.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">moveSelectionUp</span><span class="o">:</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()</span>

    <span class="k">unless</span> <span class="py">@cantInteract</span><span class="p">()</span>
      <span class="py">@selectedPath</span> <span class="o">=</span> <span class="py">@findPrevious</span> <span class="py">@selectedPath</span>

      <span class="py">@set</span> <span class="s">&quot;value&quot;</span><span class="p">,</span> <span class="py">@getOptionValue</span> <span class="py">@getOptionAt</span> <span class="py">@selectedPath</span></pre></div>             </td>           </tr>                               <tr id="section-137">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-137">&#182;</a>               </div>               <p>Moves the selection cursor to the down.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">moveSelectionDown</span><span class="o">:</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()</span>

    <span class="k">unless</span> <span class="py">@cantInteract</span><span class="p">()</span>
      <span class="py">@selectedPath</span> <span class="o">=</span> <span class="py">@findNext</span> <span class="py">@selectedPath</span>

      <span class="py">@set</span> <span class="s">&quot;value&quot;</span><span class="p">,</span> <span class="py">@getOptionValue</span> <span class="py">@getOptionAt</span> <span class="py">@selectedPath</span></pre></div>             </td>           </tr>                               <tr id="section-138">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-138">&#182;</a>               </div>               <p><a name="HasMultiSelection"></a></p>

<h1>HasMultiSelection</h1>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-139">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-139">&#182;</a>               </div>               <p>The <code>HasMultiSelection</code> provides a widget with the ability
to select many items within a <code>MenuModel</code>.</p>

<p>The <code>HasMultiSelection</code> mixin should be used in combination
with the <code>HasMenuModel</code> and the <code>HasOptions</code> mixins.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nb">HasMultiSelection</span> <span class="o">=</span>
  <span class="py">constructorHook</span><span class="o">:</span> <span class="o">-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-140">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-140">&#182;</a>               </div>               <p>The selected paths are stored in an array of path.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="py">@selectedPaths</span> <span class="o">=</span> <span class="p">[]</span></pre></div>             </td>           </tr>                               <tr id="section-141">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-141">&#182;</a>               </div>               <p>Updates the state of the target accordingly with
the current selection of the widget.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">updateOptionSelection</span><span class="o">:</span> <span class="o">-&gt;</span>
    <span class="k">if</span> <span class="py">@hasTarget</span>
      <span class="py">@jTarget</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s">&quot;option&quot;</span><span class="p">).</span><span class="nx">removeAttr</span> <span class="s">&quot;selected&quot;</span>
      <span class="py">@getOptionAt</span><span class="p">(</span><span class="nx">p</span><span class="p">)</span><span class="o">?</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s">&quot;selected&quot;</span><span class="p">,</span> <span class="s">&quot;selected&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="nx">p</span> <span class="k">in</span> <span class="py">@selectedPaths</span></pre></div>             </td>           </tr>                               <tr id="section-142">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-142">&#182;</a>               </div>               <p>Compares two path.</p>             </td>             <td class="code">               <div class="highlight"><pre>  <span class="py">samePath</span><span class="o">:</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="o">-&gt;</span>
    <span class="k">return</span> <span class="kc">false</span> <span class="k">for</span> <span class="nx">v</span><span class="p">,</span><span class="nx">i</span> <span class="k">in</span> <span class="nx">a</span> <span class="k">when</span> <span class="nx">v</span> <span class="o">isnt</span> <span class="nx">b</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
    <span class="kc">true</span>


<span class="py">@DropDownPopup</span>           <span class="o">=</span> <span class="nb">DropDownPopup</span>
<span class="py">@HasChildren</span>             <span class="o">=</span> <span class="nb">HasChildren</span>
<span class="py">@HasFocusProvidedByChild</span> <span class="o">=</span> <span class="nb">HasFocusProvidedByChild</span>
<span class="py">@HasMenuModel</span>            <span class="o">=</span> <span class="nb">HasMenuModel</span>
<span class="py">@HasMultiSelection</span>       <span class="o">=</span> <span class="nb">HasMultiSelection</span>
<span class="py">@HasOptions</span>              <span class="o">=</span> <span class="nb">HasOptions</span>
<span class="py">@HasPopupMenuList</span>        <span class="o">=</span> <span class="nb">HasPopupMenuList</span>
<span class="py">@HasSingleSelection</span>      <span class="o">=</span> <span class="nb">HasSingleSelection</span>
<span class="py">@HasValueInRange</span>         <span class="o">=</span> <span class="nb">HasValueInRange</span>
<span class="py">@Spinner</span>                 <span class="o">=</span> <span class="nb">Spinner</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 