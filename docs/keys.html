<!DOCTYPE html>  <html> <head>   <title>keys.coffee</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>            <div id="jump_to">         Jump To &hellip;         <div id="jump_wrapper">           <div id="jump_page">                                           <a class="source" href="button.html">                 button.coffee               </a>                                           <a class="source" href="checkbox.html">                 checkbox.coffee               </a>                                           <a class="source" href="colorpicker.html">                 colorpicker.coffee               </a>                                           <a class="source" href="container.html">                 container.coffee               </a>                                           <a class="source" href="core.html">                 core.coffee               </a>                                           <a class="source" href="filepicker.html">                 filepicker.coffee               </a>                                           <a class="source" href="keys.html">                 keys.coffee               </a>                                           <a class="source" href="numeric-widget.html">                 numeric-widget.coffee               </a>                                           <a class="source" href="radio.html">                 radio.coffee               </a>                                           <a class="source" href="radiogroup.html">                 radiogroup.coffee               </a>                                           <a class="source" href="slider.html">                 slider.coffee               </a>                                           <a class="source" href="stepper.html">                 stepper.coffee               </a>                                           <a class="source" href="textarea.html">                 textarea.coffee               </a>                                           <a class="source" href="textinput.html">                 textinput.coffee               </a>                                           <a class="source" href="widgets.html">                 widgets.coffee               </a>                        </div>         </div>       </div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               keys.coffee             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <p><link rel="stylesheet" href="../css/styles.css" media="screen"></p>

<p>This file contains the various classes and methods related
to key strokes.</p>

<p>Key strokes are represented by the <code>KeyStroke</code> object.
It should only exist one instance of the <code>KeyStroke</code>
class for a given key combination. That's the purpose
of the <code>keystroke</code> function. </p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Use the <code>keystroke</code> function to get a <code>KeyStroke</code> instance 
corresponding to the passed <code>keyCode</code> and <code>modifiers</code>.</p>

<p>To get a key stroke you should do the following: </p>

<pre><code>keystroke keys.a, keys.mod.ctrl + keys.mod.shift
</code></pre>

<p>As you can see above, the <code>modifiers</code> value is an integer produced
by adding different modifiers together.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">keystroke = </span><span class="nf">(keyCode, modifiers)-&gt;</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>The <code>keystroke</code> function ensure that only one <code>KeyStroke</code> instance 
exist for a given combination, it allow to use the equal operator
to compare key strokes.</p>

<p>Consequently, the following expression is true :</p>

<pre><code>(keystroke keys.a) is (keystroke.keys.a)
</code></pre>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="k">if</span> <span class="s2">&quot;#{keyCode}-#{modifiers}&quot;</span> <span class="k">of</span> <span class="nx">KeyStroke</span><span class="p">.</span><span class="nx">instances</span>
        <span class="nx">KeyStroke</span><span class="p">.</span><span class="nx">instances</span><span class="p">[</span> <span class="s2">&quot;#{keyCode}-#{modifiers}&quot;</span> <span class="p">]</span>
    <span class="k">else</span>
        <span class="nx">KeyStroke</span><span class="p">.</span><span class="nx">instances</span><span class="p">[</span> <span class="s2">&quot;#{keyCode}-#{modifiers}&quot;</span> <span class="p">]</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">KeyStroke</span> <span class="nx">keyCode</span><span class="p">,</span> <span class="nx">modifiers</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <h4>KeyStroke class</h4>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>The <code>KeyStroke</code> class isn't meant to be instanciated manually,
use the <code>keystroke</code> function instead.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">class</span> <span class="nx">KeyStroke</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>All key stroke instances are stored at the class level.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="vi">@instances = </span><span class="p">{}</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>Takes the <code>keyCode</code> and the <code>modifiers</code> and initialize 
the specific modifiers properties.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">constructor</span><span class="o">:</span><span class="nf">(keyCode, modifiers)-&gt;</span>

        <span class="vi">@keyCode    = </span><span class="nx">keyCode</span>
        <span class="vi">@modifiers  = </span><span class="nx">modifiers</span></pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p><code>ctrl</code> mofifier is stored in the first bit, <code>shift</code>
in the second and <code>alt</code> in the third</p>             </td>             <td class="code">               <div class="highlight"><pre>        <span class="vi">@ctrl       = </span><span class="p">(</span> <span class="nx">modifiers</span> <span class="o">&amp;</span> <span class="mh">0x01</span> <span class="p">)</span> <span class="o">is</span> <span class="mi">1</span>
        <span class="vi">@shift      = </span><span class="p">(</span> <span class="p">(</span> <span class="nx">modifiers</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span> <span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x01</span> <span class="p">)</span> <span class="o">is</span> <span class="mi">1</span>
        <span class="vi">@alt        = </span><span class="p">(</span> <span class="p">(</span> <span class="nx">modifiers</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span> <span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x01</span> <span class="p">)</span> <span class="o">is</span> <span class="mi">1</span>
    </pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>Compare the passed-in key event with the current instance.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">match</span><span class="o">:</span><span class="nf">(e)-&gt;</span>
        <span class="nx">e</span><span class="p">.</span><span class="nx">keyCode</span>  <span class="o">is</span> <span class="nx">@keyCode</span> <span class="o">and</span> 
        <span class="nx">e</span><span class="p">.</span><span class="nx">ctrlKey</span>  <span class="o">is</span> <span class="nx">@ctrl</span>    <span class="o">and</span>
        <span class="nx">e</span><span class="p">.</span><span class="nx">shiftKey</span> <span class="o">is</span> <span class="nx">@shift</span>   <span class="o">and</span>
        <span class="nx">e</span><span class="p">.</span><span class="nx">altKey</span>   <span class="o">is</span> <span class="nx">@alt</span>
    </pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>Provide a human readable representation of the key stroke.
For exemple, the following keystroke : </p>

<pre><code>keystroke keys.z, keys.mod.ctrl
</code></pre>

<p>Will output as <code>Ctrl+Z</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">toString</span><span class="o">:-&gt;</span>
        <span class="nv">a = </span><span class="p">[]</span>

        <span class="k">if</span> <span class="nx">@ctrl</span>  <span class="k">then</span> <span class="nx">a</span><span class="p">.</span><span class="nx">push</span> <span class="s2">&quot;Ctrl&quot;</span>
        <span class="k">if</span> <span class="nx">@shift</span> <span class="k">then</span> <span class="nx">a</span><span class="p">.</span><span class="nx">push</span> <span class="s2">&quot;Shift&quot;</span>
        <span class="k">if</span> <span class="nx">@alt</span>   <span class="k">then</span> <span class="nx">a</span><span class="p">.</span><span class="nx">push</span> <span class="s2">&quot;Alt&quot;</span>
    
        <span class="k">for</span> <span class="nx">k</span><span class="p">,</span> <span class="nx">v</span> <span class="k">of</span> <span class="nx">keys</span> 
            <span class="k">if</span> <span class="nx">@keyCode</span> <span class="o">is</span> <span class="nx">v</span>
                <span class="nx">a</span><span class="p">.</span><span class="nx">push</span> <span class="nx">k</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span> 
                <span class="k">break</span>
        
        <span class="nx">a</span><span class="p">.</span><span class="nx">join</span> <span class="s2">&quot;+&quot;</span></pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>A list of keys codes and modifiers values.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nv">keys = </span></pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>Stores the modifiers values.
Use additions to produce the final modifier, such as in:</p>

<pre><code>keystroke keys.a, keys.mod.ctrl + keys.mod.shift
</code></pre>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nv">mod: </span>
        <span class="nx">ctrl</span>        <span class="o">:</span><span class="mi">1</span>
        <span class="nx">shift</span>       <span class="o">:</span><span class="mi">2</span>
        <span class="nx">alt</span>         <span class="o">:</span><span class="mi">4</span></pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <p>Here starts the key codes.</p>             </td>             <td class="code">               <div class="highlight"><pre>    <span class="nx">backspace</span>       <span class="o">:</span><span class="mi">8</span>
    <span class="nx">tab</span>             <span class="o">:</span><span class="mi">9</span>
    <span class="nx">enter</span>           <span class="o">:</span><span class="mi">13</span>
    <span class="nx">shift</span>           <span class="o">:</span><span class="mi">16</span>
    <span class="nx">ctrl</span>            <span class="o">:</span><span class="mi">17</span>
    <span class="nx">alt</span>             <span class="o">:</span><span class="mi">18</span>
    <span class="nx">pause</span>           <span class="o">:</span><span class="mi">19</span>
    <span class="nx">caps_lock</span>       <span class="o">:</span><span class="mi">20</span>
    <span class="nx">escape</span>          <span class="o">:</span><span class="mi">27</span>
    <span class="nx">space</span>           <span class="o">:</span><span class="mi">32</span>            
    <span class="nx">page_up</span>         <span class="o">:</span><span class="mi">33</span>
    <span class="nx">page_down</span>       <span class="o">:</span><span class="mi">34</span>
    <span class="nx">end</span>             <span class="o">:</span><span class="mi">35</span>
    <span class="nx">home</span>            <span class="o">:</span><span class="mi">36</span>
    <span class="nx">left</span>            <span class="o">:</span><span class="mi">37</span>
    <span class="nx">up</span>              <span class="o">:</span><span class="mi">38</span>
    <span class="nx">right</span>           <span class="o">:</span><span class="mi">39</span>
    <span class="nx">down</span>            <span class="o">:</span><span class="mi">40</span>
    <span class="nx">insert</span>          <span class="o">:</span><span class="mi">45</span>
    <span class="nx">decimal</span>         <span class="o">:</span><span class="mi">46</span>
    <span class="nx">key_0</span>           <span class="o">:</span><span class="mi">48</span>
    <span class="nx">key_1</span>           <span class="o">:</span><span class="mi">49</span>
    <span class="nx">key_2</span>           <span class="o">:</span><span class="mi">50</span>
    <span class="nx">key_3</span>           <span class="o">:</span><span class="mi">51</span>
    <span class="nx">key_4</span>           <span class="o">:</span><span class="mi">52</span>
    <span class="nx">key_5</span>           <span class="o">:</span><span class="mi">53</span>
    <span class="nx">key_6</span>           <span class="o">:</span><span class="mi">54</span>
    <span class="nx">key_7</span>           <span class="o">:</span><span class="mi">55</span>
    <span class="nx">key_8</span>           <span class="o">:</span><span class="mi">56</span>
    <span class="nx">key_9</span>           <span class="o">:</span><span class="mi">57</span>
    <span class="nx">a</span>               <span class="o">:</span><span class="mi">65</span>
    <span class="nx">b</span>               <span class="o">:</span><span class="mi">66</span>
    <span class="nx">c</span>               <span class="o">:</span><span class="mi">67</span>
    <span class="nx">d</span>               <span class="o">:</span><span class="mi">68</span>
    <span class="nx">e</span>               <span class="o">:</span><span class="mi">69</span>
    <span class="nx">f</span>               <span class="o">:</span><span class="mi">70</span>
    <span class="nx">g</span>               <span class="o">:</span><span class="mi">71</span>
    <span class="nx">h</span>               <span class="o">:</span><span class="mi">72</span>
    <span class="nx">i</span>               <span class="o">:</span><span class="mi">73</span>
    <span class="nx">j</span>               <span class="o">:</span><span class="mi">74</span>
    <span class="nx">k</span>               <span class="o">:</span><span class="mi">75</span>
    <span class="nx">l</span>               <span class="o">:</span><span class="mi">76</span>
    <span class="nx">m</span>               <span class="o">:</span><span class="mi">77</span>
    <span class="nx">n</span>               <span class="o">:</span><span class="mi">78</span>
    <span class="nx">o</span>               <span class="o">:</span><span class="mi">79</span>
    <span class="nx">p</span>               <span class="o">:</span><span class="mi">80</span>
    <span class="nx">q</span>               <span class="o">:</span><span class="mi">81</span>
    <span class="nx">r</span>               <span class="o">:</span><span class="mi">82</span>
    <span class="nx">s</span>               <span class="o">:</span><span class="mi">83</span>
    <span class="nx">t</span>               <span class="o">:</span><span class="mi">84</span>
    <span class="nx">u</span>               <span class="o">:</span><span class="mi">85</span>
    <span class="nx">v</span>               <span class="o">:</span><span class="mi">86</span>
    <span class="nx">w</span>               <span class="o">:</span><span class="mi">87</span>
    <span class="nx">x</span>               <span class="o">:</span><span class="mi">88</span>
    <span class="nx">y</span>               <span class="o">:</span><span class="mi">89</span>
    <span class="nx">z</span>               <span class="o">:</span><span class="mi">90</span>
    <span class="nx">left_window_key</span> <span class="o">:</span><span class="mi">91</span>
    <span class="nx">right_window_key</span><span class="o">:</span><span class="mi">92</span>
    <span class="nx">select</span>          <span class="o">:</span><span class="mi">93</span>
    <span class="nx">numpad_0</span>        <span class="o">:</span><span class="mi">96</span>
    <span class="nx">numpad_1</span>        <span class="o">:</span><span class="mi">97</span>
    <span class="nx">numpad_2</span>        <span class="o">:</span><span class="mi">98</span>
    <span class="nx">numpad_3</span>        <span class="o">:</span><span class="mi">99</span>
    <span class="nx">numpad_4</span>        <span class="o">:</span><span class="mi">100</span>
    <span class="nx">numpad_5</span>        <span class="o">:</span><span class="mi">101</span>
    <span class="nx">numpad_6</span>        <span class="o">:</span><span class="mi">102</span>
    <span class="nx">numpad_7</span>        <span class="o">:</span><span class="mi">103</span>
    <span class="nx">numpad_8</span>        <span class="o">:</span><span class="mi">104</span>
    <span class="nx">numpad_9</span>        <span class="o">:</span><span class="mi">105</span>
    <span class="nx">multiply</span>        <span class="o">:</span><span class="mi">106</span>
    <span class="nx">add</span>             <span class="o">:</span><span class="mi">107</span>
    <span class="nx">subtract</span>        <span class="o">:</span><span class="mi">109</span>
    <span class="nx">decimal_point</span>   <span class="o">:</span><span class="mi">110</span>
    <span class="nx">divide</span>          <span class="o">:</span><span class="mi">111</span>
    <span class="nx">f1</span>              <span class="o">:</span><span class="mi">112</span>
    <span class="nx">f2</span>              <span class="o">:</span><span class="mi">113</span>
    <span class="nx">f3</span>              <span class="o">:</span><span class="mi">114</span>
    <span class="nx">f4</span>              <span class="o">:</span><span class="mi">115</span>
    <span class="nx">f5</span>              <span class="o">:</span><span class="mi">116</span>
    <span class="nx">f6</span>              <span class="o">:</span><span class="mi">117</span>
    <span class="nx">f7</span>              <span class="o">:</span><span class="mi">118</span>
    <span class="nx">f8</span>              <span class="o">:</span><span class="mi">119</span>
    <span class="nx">f9</span>              <span class="o">:</span><span class="mi">120</span>
    <span class="nx">f10</span>             <span class="o">:</span><span class="mi">121</span>
    <span class="nx">f11</span>             <span class="o">:</span><span class="mi">122</span>
    <span class="nx">f12</span>             <span class="o">:</span><span class="mi">123</span>
    <span class="nx">num_lock</span>        <span class="o">:</span><span class="mi">144</span>
    <span class="nx">scroll_lock</span>     <span class="o">:</span><span class="mi">145</span>
    <span class="nx">semi_colon</span>      <span class="o">:</span><span class="mi">186</span>
    <span class="nx">equal_sign</span>      <span class="o">:</span><span class="mi">187</span>
    <span class="nx">comma</span>           <span class="o">:</span><span class="mi">188</span>
    <span class="nx">dash</span>            <span class="o">:</span><span class="mi">189</span>
    <span class="nx">period</span>          <span class="o">:</span><span class="mi">190</span>
    <span class="nx">forward_slash</span>   <span class="o">:</span><span class="mi">191</span>
    <span class="nx">grave_accent</span>    <span class="o">:</span><span class="mi">192</span>
    <span class="nx">open_bracket</span>    <span class="o">:</span><span class="mi">219</span>
    <span class="nx">back_slash</span>      <span class="o">:</span><span class="mi">220</span>
    <span class="nx">close_bracket</span>   <span class="o">:</span><span class="mi">221</span>
    <span class="nx">single_quote</span>    <span class="o">:</span><span class="mi">222</span> </pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>Address the access restriction due to the sandboxing when used
directly in a browser with the <code>text/coffeescript</code> mode. </p>             </td>             <td class="code">               <div class="highlight"><pre><span class="k">if</span> <span class="nb">window</span><span class="o">?</span> 
    <span class="nb">window</span><span class="p">.</span><span class="nv">keystroke = </span><span class="nx">keystroke</span>
    <span class="nb">window</span><span class="p">.</span><span class="nv">keys  = </span><span class="nx">keys</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 